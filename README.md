# 干支多周曜 ― 環状月暦 (Eto Multi-Cycle Ring Calendar)

干支のサイクルを応用し、2/3/5/7 日周期の「曜日」を同時に参照できる円環レイアウトの月間カレンダーです。基準日 1980-01-01 からの暦日差で周期を計算し、当日の位置を時計の針のように指し示します。

> スクリーンショットはリポジトリには含めていません。GitHub Pages などにデプロイ後、必要に応じて撮影した画像をプロジェクトに追加してください。

## 主な機能

- 現在日時のリアルタイム表示 (1 秒更新、`aria-live="polite"`)
- SVG で描画した円環月暦：当月の日付を 360° に均等配置
- 2/3/5/7 日周期の曜日ラベルを多重表示し、当日は針とハイライトで強調
- 前月・次月ナビゲーション、今日へ戻るショートカット
- 任意の日付をクリックして詳細ペインに周期ラベルを表示
- ハッシュフラグメント (`#YYYY-MM`) により表示月を共有
- スクリーンリーダー向けに日別サイクルの一覧を DOM に出力
- レスポンシブ対応（スマートフォンではサブラベルを短縮表示）

## ファイル構成

```
.
├── index.html        # アプリ本体
├── 404.html          # GitHub Pages 向けフォールバック（index.html の複製）
├── css/
│   └── styles.css    # レイアウトとスタイル定義
├── js/
│   └── app.js        # 日付計算と SVG 描画ロジック
├── cycledayCalendar_spec.md
└── README.md
```

## 開発・動作確認

静的サイトのため、ブラウザで `index.html` を開くだけで動作します。ローカルでの確認には、次のような簡易 HTTP サーバーを利用できます。

```bash
python -m http.server
# または
npx serve
```

## 計算仕様の要点

- 基準日: 1980-01-01 (ローカルタイム)
- 暦日差: `Δdays = floor((target - base) / 86_400_000)`
- 周期インデックス: `idx = ((Δdays % N) + N) % N`
- 2 日周期: 子 / 午
- 3 日周期: 子 / 辰 / 申
- 5 日周期: 甲 / 丙 / 戊 / 庚 / 壬
- 7 日周期: 日 / 月 / 火 / 水 / 木 / 金 / 土

## GitHub Pages への公開手順

1. GitHub 上でこのリポジトリを公開状態にします。
2. `Settings > Pages` を開き、以下を設定します。
   - **Source**: `Deploy from a branch`
   - **Branch**: `main`（またはデフォルトブランチ） / `/ (root)`
3. 設定を保存すると、数十秒後に `https://<ユーザー名>.github.io/<リポジトリ名>/` で公開されます。
4. 404 対策として `404.html` は `index.html` の複製を配置済みです。

## ライセンス

- MIT License
- 干支文字は Unicode に収録されているものを使用しており、特別なフォントに依存しません。

## 将来の改善アイデア

- PWA 化、オフライン利用
- ラベル配色のカスタマイズ、色弱テーマ
- 祝日レイヤーや独自イベントの重ね合わせ
- PDF / SVG 形式での印刷用エクスポート
- 長周期 (11/13/17/19 など) 追加への拡張
